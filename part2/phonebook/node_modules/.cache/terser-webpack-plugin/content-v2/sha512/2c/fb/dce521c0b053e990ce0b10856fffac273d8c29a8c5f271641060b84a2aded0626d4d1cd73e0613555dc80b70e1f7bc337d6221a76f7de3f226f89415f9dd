{"code":"(this.webpackJsonppart2=this.webpackJsonppart2||[]).push([[0],{39:function(e,n,t){\"use strict\";t.r(n);var r=t(2),c=t(5),u=t.n(c),a=t(7),i=t(3),o=t(4),l=t.n(o),s=\"https://cryptic-earth-64102.herokuapp.com/api/persons\",d=function(){return l.a.get(s).then((function(e){return e.data}))},j=function(e){return l.a.post(s,e).then((function(e){return e.data}))},b=function(e){console.log(\"clicked for phone no\"+e),l.a.delete(s+\"/\"+e)},h=function(e){return l.a.put(s+\"/\"+e.id,e).then((function(e){return e.data}))},f=t(0),m=function(e){var n=e.person,t=e.handleDeletePerson;return Object(f.jsxs)(\"li\",{children:[n.name,\" \",n.number,Object(f.jsx)(\"button\",{onClick:function(){!function(e){window.confirm(\"Delete \"+e.name+\" ?\")&&(b(e.id),t(e.id))}(n)},children:\"delete\"})]})},O=function(e){var n=e.allpersons,t=e.newFilter,r=e.handleDeletePerson;return 0===t.length?n.map((function(e){return Object(f.jsx)(m,{person:e,handleDeletePerson:r},e.id)})):n.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())})).map((function(e){return Object(f.jsx)(m,{person:e,handleDeletePerson:r},e.id)}))},p=function(e){return Object(f.jsxs)(\"form\",{onSubmit:e.onSubmit,children:[Object(f.jsxs)(\"div\",{children:[\"name : \",Object(f.jsx)(\"input\",{value:e.newName,onChange:e.namehandler}),\"number : \",Object(f.jsx)(\"input\",{value:e.newNumber,onChange:e.numberhandler})]}),Object(f.jsx)(\"br\",{}),Object(f.jsx)(\"div\",{children:Object(f.jsx)(\"button\",{type:\"submit\",children:\"add\"})})]})},x=function(e){var n=e.msg,t=e.value,r=e.onChange;return Object(f.jsxs)(\"div\",{children:[n,Object(f.jsx)(\"input\",{value:t,onChange:r})]})},g=function(e){var n=e.message;if(null===n)return null;return Object(f.jsx)(\"div\",{style:{color:\"green\",background:\"lightgrey\",fontSize:20,borderStyle:\"solid\",borderRadius:5,padding:10,marginBottom:10},children:n})},v=function(){var e=Object(r.useState)([]),n=Object(i.a)(e,2),t=n[0],c=n[1],u=Object(r.useState)(\"\"),o=Object(i.a)(u,2),l=o[0],s=o[1],b=Object(r.useState)(\"\"),m=Object(i.a)(b,2),v=m[0],w=m[1],S=Object(r.useState)(\"\"),y=Object(i.a)(S,2),C=y[0],D=y[1],k=Object(r.useState)(null),P=Object(i.a)(k,2),N=P[0],B=P[1];Object(r.useEffect)((function(){d().then((function(e){return c(e)}))}),[]);var F=function(e){B(e),setTimeout((function(){B(null)}),5e3)};return Object(f.jsxs)(\"div\",{children:[Object(f.jsx)(\"h2\",{children:\"PhoneBook\"}),Object(f.jsx)(g,{message:N}),Object(f.jsx)(x,{msg:\"Filter shown with\",value:C,onChange:function(e){D(e.target.value)}}),Object(f.jsx)(p,{onSubmit:function(e){if(e.preventDefault(),!(l.length<1||v.length<1)){var n=t.filter((function(e){return e.name===l}));if(n.length>0){if(window.confirm(\"\".concat(l,\" already exists. Do you want to replace the old number with the new one ?\"))){var r=Object(a.a)(Object(a.a)({},n[0]),{},{number:v});h(r).then((function(e){c(t.map((function(n){return n.id==e.id?e:n}))),F(\"\".concat(e.name,\" updated Successfully\"))}))}}else{var u={name:l,number:v,id:t.reduce((function(e,n){return Math.max(n.id,e)}),0)+1};j(u).then((function(e){c(t.concat(e)),F(\"\".concat(e.name,\" Added Successfully\"))})),s(\"\"),w(\"\")}}},newName:l,namehandler:function(e){s(e.target.value)},newNumber:v,numberhandler:function(e){w(e.target.value)}}),Object(f.jsx)(\"h2\",{children:\"Numbers\"}),Object(f.jsx)(\"div\",{children:Object(f.jsx)(\"ul\",{children:Object(f.jsx)(O,{allpersons:t,newFilter:C,handleDeletePerson:function(e){c(t.filter((function(n){return n.id!=e})))}})})})]})};u.a.render(Object(f.jsx)(v,{}),document.getElementById(\"root\"))}},[[39,1,2]]]);","name":"static/js/main.f062a609.chunk.js","map":{"version":3,"sources":["static/js/main.f062a609.chunk.js"],"names":["this","push","module","__webpack_exports__","__webpack_require__","r","react","react_dom","react_dom_default","n","objectSpread2","slicedToArray","axios","axios_default","baseURL","personsDB","a","get","then","response","data","newObj","post","id","console","log","delete","put","jsx_runtime","Display_Note","_ref","person","handleDeletePerson","Object","children","name","number","onClick","window","confirm","confirmDeletion","Components_Display","_ref2","allpersons","newFilter","length","map","filter","toLowerCase","includes","Components_PersonForm","props","onSubmit","value","newName","onChange","namehandler","newNumber","numberhandler","type","Components_Filter","msg","Components_Notification","message","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","src_App","_useState","_useState2","allPersons","setAllPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setNewFilter","_useState9","_useState10","notification","setNotification","handleNotification","setTimeout","event","target","preventDefault","repeated","concat","updatedNumber","reduce","t","Math","max","render","document","getElementById"],"mappings":"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"},"input":"(this[\"webpackJsonppart2\"] = this[\"webpackJsonppart2\"] || []).push([[0],{\n\n/***/ 39:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(2);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(5);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js + 1 modules\nvar objectSpread2 = __webpack_require__(7);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 5 modules\nvar slicedToArray = __webpack_require__(3);\n\n// EXTERNAL MODULE: ./node_modules/axios/index.js\nvar axios = __webpack_require__(4);\nvar axios_default = /*#__PURE__*/__webpack_require__.n(axios);\n\n// CONCATENATED MODULE: ./src/services/personsDB.js\nvar baseURL='https://cryptic-earth-64102.herokuapp.com/api/persons';var personsDB_getAll=function getAll(){var request=axios_default.a.get(baseURL);return request.then(function(response){return response.data;});};var personsDB_create=function create(newObj){return axios_default.a.post(baseURL,newObj).then(function(response){return response.data;});};var personsDB_remove=function remove(id){console.log(\"clicked for phone no\"+id);axios_default.a.delete(baseURL+'/'+id);};var personsDB_update=function update(newObj){return axios_default.a.put(baseURL+'/'+newObj.id,newObj).then(function(response){return response.data;});};/* harmony default export */ var personsDB = ({getAll:personsDB_getAll,create:personsDB_create,remove:personsDB_remove,update:personsDB_update});\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(0);\n\n// CONCATENATED MODULE: ./src/Components/Display.js\nvar Display_Note=function Note(_ref){var person=_ref.person,handleDeletePerson=_ref.handleDeletePerson;var confirmDeletion=function confirmDeletion(person){if(window.confirm(\"Delete \"+person.name+\" ?\")){personsDB.remove(person.id);handleDeletePerson(person.id);}};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"li\",{children:[person.name,\" \",person.number,/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:function onClick(){confirmDeletion(person);},children:\"delete\"})]});};var Display_Display=function Display(_ref2){var allpersons=_ref2.allpersons,newFilter=_ref2.newFilter,handleDeletePerson=_ref2.handleDeletePerson;if(newFilter.length===0){return allpersons.map(function(person){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Display_Note,{person:person,handleDeletePerson:handleDeletePerson},person.id);});}var filtered=allpersons.filter(function(person){return person.name.toLowerCase().includes(newFilter.toLowerCase());});return filtered.map(function(person){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Display_Note,{person:person,handleDeletePerson:handleDeletePerson},person.id);});};/* harmony default export */ var Components_Display = (Display_Display);\n// CONCATENATED MODULE: ./src/Components/PersonForm.js\nvar PersonForm_PersonForm=function PersonForm(props){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:props.onSubmit,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[\"name : \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{value:props.newName,onChange:props.namehandler}),\"number : \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{value:props.newNumber,onChange:props.numberhandler})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"submit\",children:\"add\"})})]});};/* harmony default export */ var Components_PersonForm = (PersonForm_PersonForm);\n// CONCATENATED MODULE: ./src/Components/Filter.js\nvar Filter_Filter=function Filter(_ref){var msg=_ref.msg,value=_ref.value,onChange=_ref.onChange;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[msg,/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{value:value,onChange:onChange})]});};/* harmony default export */ var Components_Filter = (Filter_Filter);\n// CONCATENATED MODULE: ./src/Components/Notification.js\nvar Notification_Notification=function Notification(_ref){var message=_ref.message;if(message===null){return null;}var notifStyle={color:'green',background:'lightgrey',fontSize:20,borderStyle:'solid',borderRadius:5,padding:10,marginBottom:10};return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:notifStyle,children:message});};/* harmony default export */ var Components_Notification = (Notification_Notification);\n// CONCATENATED MODULE: ./src/App.js\nvar App_App=function App(){var _useState=Object(react[\"useState\"])([]),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),allPersons=_useState2[0],setAllPersons=_useState2[1];var _useState3=Object(react[\"useState\"])(''),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),newName=_useState4[0],setNewName=_useState4[1];var _useState5=Object(react[\"useState\"])(''),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),newNumber=_useState6[0],setNewNumber=_useState6[1];var _useState7=Object(react[\"useState\"])(''),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),newFilter=_useState8[0],setNewFilter=_useState8[1];var _useState9=Object(react[\"useState\"])(null),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),notification=_useState10[0],setNotification=_useState10[1];/*useEffect(() =>\n    axios\n        .get(\"http://localhost:3001/persons\")\n        .then(response =>{\n            setAllPersons(response.data);\n        })\n  ,[])*/Object(react[\"useEffect\"])(function(){personsDB.getAll().then(function(data){return setAllPersons(data);});},[]);var handleInputName=function handleInputName(event){setNewName(event.target.value);};var handleInputNum=function handleInputNum(event){setNewNumber(event.target.value);};var handleNotification=function handleNotification(message){setNotification(message);setTimeout(function(){setNotification(null);},5000);};var addNote=function addNote(event){event.preventDefault();if(newName.length<1||newNumber.length<1)return;var repeated=allPersons.filter(function(person){return person.name===newName;});if(repeated.length>0){if(window.confirm(\"\".concat(newName,\" already exists. Do you want to replace the old number with the new one ?\"))){var updatedNumber=Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},repeated[0]),{},{number:newNumber});personsDB.update(updatedNumber).then(function(response){setAllPersons(allPersons.map(function(person){return person.id==response.id?response:person;}));handleNotification(\"\".concat(response.name,\" updated Successfully\"));});}return;}var newObj={name:newName,number:newNumber,id:allPersons.reduce(function(t,person){return Math.max(person.id,t);},0)+1};personsDB.create(newObj).then(function(response){setAllPersons(allPersons.concat(response));handleNotification(\"\".concat(response.name,\" Added Successfully\"));});setNewName('');setNewNumber('');};var handleDeletePerson=function handleDeletePerson(id){setAllPersons(allPersons.filter(function(person){return person.id!=id;}));};var handleNewFilter=function handleNewFilter(event){setNewFilter(event.target.value);};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"PhoneBook\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Components_Notification,{message:notification}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Components_Filter,{msg:\"Filter shown with\",value:newFilter,onChange:handleNewFilter}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Components_PersonForm,{onSubmit:addNote,newName:newName,namehandler:handleInputName,newNumber:newNumber,numberhandler:handleInputNum}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"Numbers\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"ul\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Components_Display,{allpersons:allPersons,newFilter:newFilter,handleDeletePerson:handleDeletePerson})})})]});};/* harmony default export */ var src_App = (App_App);\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{}),document.getElementById('root'));\n\n/***/ })\n\n},[[39,1,2]]]);","inputSourceMap":{"version":3,"sources":["/home/mohamed/fullstackopen/part2/phonebook/src/services/personsDB.js","/home/mohamed/fullstackopen/part2/phonebook/src/Components/Display.js","/home/mohamed/fullstackopen/part2/phonebook/src/Components/PersonForm.js","/home/mohamed/fullstackopen/part2/phonebook/src/Components/Filter.js","/home/mohamed/fullstackopen/part2/phonebook/src/Components/Notification.js","/home/mohamed/fullstackopen/part2/phonebook/src/App.js","/home/mohamed/fullstackopen/part2/phonebook/src/index.js"],"names":["baseURL","getAll","request","axios","get","then","response","data","create","newObj","post","remove","id","console","log","delete","update","put","Note","person","handleDeletePerson","confirmDeletion","window","confirm","name","personDB","number","Display","allpersons","newFilter","length","map","filtered","filter","toLowerCase","includes","PersonForm","props","onSubmit","newName","namehandler","newNumber","numberhandler","Filter","msg","value","onChange","Notification","message","notifStyle","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","App","useState","allPersons","setAllPersons","setNewName","setNewNumber","setNewFilter","notification","setNotification","useEffect","handleInputName","event","target","handleInputNum","handleNotification","setTimeout","addNote","preventDefault","repeated","updatedNumber","reduce","t","Math","max","concat","handleNewFilter","ReactDOM","render","document","getElementById"],"mappings":"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","file":"x","sourcesContent":["import axios from \"axios\";\nconst baseURL = 'https://cryptic-earth-64102.herokuapp.com/api/persons';\n\nconst getAll = () =>{\n    const request = axios.get(baseURL);\n    return request.then(response =>{\n        return response.data;\n    })\n}\nconst create = newObj =>{\n    return axios.post(baseURL , newObj)\n            .then(response => {\n                return response.data;\n            })\n}\n\nconst remove = id =>{\n    console.log(\"clicked for phone no\" + id);\n    axios.delete(baseURL+'/'+id);\n\n}\nconst update = newObj => {\n    return axios.put(baseURL+'/'+newObj.id , newObj).then(\n        response => { return response.data}\n    )\n}\n\nexport default {getAll ,create, remove, update}; ","import React, { useState } from 'react';\nimport personDB from '../services/personsDB'\n\n\nconst Note = ({person , handleDeletePerson}) =>{\n  const confirmDeletion = (person) =>{\n   if(window.confirm(\"Delete \"+ person.name + \" ?\")){\n     personDB.remove(person.id);\n     handleDeletePerson(person.id);\n\n    }\n  }\n\n  return (\n    <li>{person.name} {person.number} \n        <button \n        onClick = {() => {confirmDeletion(person)}}>\n          delete\n        </button>\n    </li>\n  )\n}\n\n\n\nconst Display = ({allpersons, newFilter, handleDeletePerson}) => {\n    if(newFilter.length ===0 ){\n      return(\n        allpersons.map(person =>\n          <Note key = {person.id} person = {person} handleDeletePerson = {handleDeletePerson}/>)\n      ) \n    }\n    const filtered = allpersons.filter(\n                    person => person.name.toLowerCase().includes(newFilter.toLowerCase()));\n    return (\n      filtered.map(person =>\n       <Note key = {person.id} person = {person} handleDeletePerson ={handleDeletePerson}/>)\n    )\n}\nexport default Display","import React, { useState } from 'react';\nimport ReactDOM from 'react-dom';\n\n const PersonForm = (props) =>{\n    return(\n      <form onSubmit = {props.onSubmit}>\n        <div>\n          name : <input value = {props.newName} onChange={props.namehandler} />\n          number : <input value = {props.newNumber} onChange={props.numberhandler} />\n        </div>\n        <br/>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n      \n    )\n }\n export default PersonForm","import React, { useState } from 'react';\nimport ReactDOM from 'react-dom';\n\nconst Filter = ({msg ,value, onChange}) =>{\n  return(\n    <div>{msg} \n    <input value = {value} onChange= {onChange}/>\n    </div>\n  )\n\n}\n\nexport default Filter;\n","const Notification = ({message}) =>{\n    if(message ===null){\n        return null;\n    }\n    const notifStyle ={\n        color: 'green',\n        background: 'lightgrey',\n        fontSize: 20,\n        borderStyle: 'solid',\n        borderRadius: 5,\n        padding: 10,\n        marginBottom: 10,\n    }\n\n    return(\n        <div style ={notifStyle}>\n            {message}\n        </div>\n    )\n}\nexport default Notification;","import React, { useEffect, useState } from 'react';\nimport Display from './Components/Display';\nimport PersonForm from './Components/PersonForm';\nimport Filter from './Components/Filter';\nimport personDB from './services/personsDB';\nimport Notification from './Components/Notification';\n\nconst App = () => {\n  const [allPersons, setAllPersons] = useState([]);\n  const [newName , setNewName] = useState('');\n  const [newNumber , setNewNumber] = useState('');\n  const [newFilter , setNewFilter] = useState('');\n  const [notification , setNotification] = useState(null);\n\n  /*useEffect(() =>\n    axios\n        .get(\"http://localhost:3001/persons\")\n        .then(response =>{\n            setAllPersons(response.data);\n        })\n  ,[])*/\n  \nuseEffect(() =>{\n  personDB.getAll().then(data => setAllPersons(data));\n}, [])\n  \n\n  const handleInputName = (event) =>{\n    setNewName(event.target.value);\n  }\n\n  const handleInputNum = (event) =>{\n    setNewNumber(event.target.value);\n  }\n  \n  const handleNotification = message =>{\n    setNotification(message);\n    setTimeout(() => {\n      setNotification(null)\n    }, 5000);\n  }\n\n  const addNote = (event) =>{\n\n    event.preventDefault()\n\n    if(newName.length < 1 || newNumber.length < 1) return\n    \n    const repeated = allPersons.filter(person => person.name === newName);\n\n    if(repeated.length > 0){\n        if(window.confirm(`${newName} already exists. Do you want to replace the old number with the new one ?`)){\n          const updatedNumber = {...repeated[0] , number : newNumber}\n\n          personDB.update(updatedNumber)\n          .then(response =>{\n            setAllPersons(allPersons.map(person =>\n              person.id == response.id ? response : person\n            ))\n            handleNotification(\n              `${response.name} updated Successfully`\n            )\n          })\n\n        }\n        return\n    }\n\n    const newObj = {\n        name : newName,\n        number : newNumber,\n        id : allPersons.reduce((t,person) => Math.max(person.id, t),0) +1\n    }\n    personDB.create(newObj).then(response => {\n      setAllPersons(allPersons.concat(response));\n      handleNotification(`${response.name} Added Successfully`) \n\n    })\n    setNewName(''); \n    setNewNumber('');\n\n  }\n\n  const handleDeletePerson = (id) =>{\n    \n    setAllPersons(allPersons.filter(\n      person=> person.id != id\n    ))\n\n  }\n  \n\n  const handleNewFilter = (event) =>{\n    setNewFilter(event.target.value)\n  }\n\n  return (\n    <div>\n\n      <h2>PhoneBook</h2>\n      <Notification message = {notification} />\n      <Filter msg = 'Filter shown with' value = {newFilter} onChange={handleNewFilter}/>\n\n      <PersonForm onSubmit = {addNote} newName = {newName}\n                  namehandler = {handleInputName}\n                  newNumber = {newNumber} numberhandler = {handleInputNum}/>\n\n     <h2>Numbers</h2>\n      <div>\n        <ul>\n          <Display allpersons = {allPersons} newFilter \n              = {newFilter} handleDeletePerson ={handleDeletePerson}/> \n        </ul>\n      </div>\n    </div>\n  )\n}\n\nexport default App","import React, { useState } from 'react';\nimport ReactDOM from 'react-dom';\nimport App from'./App';\n\n\nReactDOM.render(\n  <App />, \ndocument.getElementById('root'))"]}}