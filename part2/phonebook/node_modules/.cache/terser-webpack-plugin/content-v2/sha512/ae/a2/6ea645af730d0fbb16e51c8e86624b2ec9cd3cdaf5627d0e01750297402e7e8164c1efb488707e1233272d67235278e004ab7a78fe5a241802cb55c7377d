{"code":"(this.webpackJsonppart2=this.webpackJsonppart2||[]).push([[0],{39:function(e,n,t){\"use strict\";t.r(n);var r=t(1),u=t(5),c=t.n(u),i=t(7),a=t(3),o=t(4),l=t.n(o),s=\"/api/persons\",d=function(){return l.a.get(s).then((function(e){return e.data}))},b=function(e){return l.a.post(s,e).then((function(e){return e.data}))},j=function(e){console.log(\"clicked for phone no\"+e),l.a.delete(s+\"/\"+e)},f=function(e){return l.a.put(s+\"/\"+e.id,e).then((function(e){return e.data}))},h=t(0),m=function(e){var n=e.person,t=e.handleDeletePerson;return Object(h.jsxs)(\"li\",{children:[n.name,\" \",n.number,Object(h.jsx)(\"button\",{onClick:function(){!function(e){window.confirm(\"Delete \"+e.name+\" ?\")&&(j(e.id),t(e.id))}(n)},children:\"delete\"})]})},O=function(e){var n=e.allpersons,t=e.newFilter,r=e.handleDeletePerson;return 0===t.length?n.map((function(e){return Object(h.jsx)(m,{person:e,handleDeletePerson:r},e.id)})):n.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())})).map((function(e){return Object(h.jsx)(m,{person:e,handleDeletePerson:r},e.id)}))},g=function(e){return Object(h.jsxs)(\"form\",{onSubmit:e.onSubmit,children:[Object(h.jsxs)(\"div\",{children:[\"name : \",Object(h.jsx)(\"input\",{value:e.newName,onChange:e.namehandler}),\"number : \",Object(h.jsx)(\"input\",{value:e.newNumber,onChange:e.numberhandler})]}),Object(h.jsx)(\"br\",{}),Object(h.jsx)(\"div\",{children:Object(h.jsx)(\"button\",{type:\"submit\",children:\"add\"})})]})},p=function(e){var n=e.msg,t=e.value,r=e.onChange;return Object(h.jsxs)(\"div\",{children:[n,Object(h.jsx)(\"input\",{value:t,onChange:r})]})},x=function(e){var n=e.message;if(null===n)return null;return Object(h.jsx)(\"div\",{style:{color:\"green\",background:\"lightgrey\",fontSize:20,borderStyle:\"solid\",borderRadius:5,padding:10,marginBottom:10},children:n})},v=function(e){var n=e.message;if(null===n)return null;return Object(h.jsx)(\"div\",{style:{color:\"red\",background:\"lightgrey\",fontSize:20,borderStyle:\"solid\",borderRadius:5,padding:10,marginBottom:10},children:n})},w=function(){var e=Object(r.useState)([]),n=Object(a.a)(e,2),t=n[0],u=n[1],c=Object(r.useState)(\"\"),o=Object(a.a)(c,2),l=o[0],s=o[1],j=Object(r.useState)(\"\"),m=Object(a.a)(j,2),w=m[0],S=m[1],y=Object(r.useState)(\"\"),C=Object(a.a)(y,2),D=C[0],k=C[1],N=Object(r.useState)(null),P=Object(a.a)(N,2),B=P[0],F=P[1],z=Object(r.useState)(null),E=Object(a.a)(z,2),J=E[0],L=E[1];Object(r.useEffect)((function(){d().then((function(e){return u(e)}))}),[]);var R=function(e){F(e),setTimeout((function(){F(null)}),5e3)},T=function(e){L(e),setTimeout((function(){L(null)}),3e3)};return Object(h.jsxs)(\"div\",{children:[Object(h.jsx)(\"h2\",{children:\"PhoneBook\"}),Object(h.jsx)(x,{message:B}),Object(h.jsx)(v,{message:J}),Object(h.jsx)(p,{msg:\"Filter shown with\",value:D,onChange:function(e){k(e.target.value)}}),Object(h.jsx)(g,{onSubmit:function(e){if(e.preventDefault(),l.length<3)T(\"Name should be at least 3 characters\\n \\u0637\\u0644\\u0628\\u0643 \\u0645\\u0631\\u0641\\u0648\\u0636 \\u064a\\u0627 \\u0646\\u0631\\u0645\");else if(w.length<8)T(\"Number should be at least 8 digits\\n \\u0637\\u0644\\u0628\\u0643 \\u0645\\u0631\\u0641\\u0648\\u0636 \\u064a\\u0627 \\u0646\\u0631\\u0645\");else{var n=t.filter((function(e){return e.name===l}));if(n.length>0){if(window.confirm(\"\".concat(l,\" already exists. Do you want to replace the old number with the new one ?\"))){var r=Object(i.a)(Object(i.a)({},n[0]),{},{number:w});f(r).then((function(e){u(t.map((function(n){return n.id==e.id?e:n}))),R(\"\".concat(e.name,\" updated Successfully\"))}))}}else{var c={name:l,number:w,id:t.reduce((function(e,n){return Math.max(n.id,e)}),0)+1};b(c).then((function(e){u(t.concat(e)),R(\"\".concat(e.name,\" Added Successfully\"))})),s(\"\"),S(\"\")}}},newName:l,namehandler:function(e){s(e.target.value)},newNumber:w,numberhandler:function(e){S(e.target.value)}}),Object(h.jsx)(\"h2\",{children:\"Numbers\"}),Object(h.jsx)(\"div\",{children:Object(h.jsx)(\"ul\",{children:Object(h.jsx)(O,{allpersons:t,newFilter:D,handleDeletePerson:function(e){u(t.filter((function(n){return n.id!=e})))}})})})]})};c.a.render(Object(h.jsx)(w,{}),document.getElementById(\"root\"))}},[[39,1,2]]]);","name":"static/js/main.c511035e.chunk.js","map":{"version":3,"sources":["static/js/main.c511035e.chunk.js"],"names":["this","push","module","__webpack_exports__","__webpack_require__","r","react","react_dom","react_dom_default","n","objectSpread2","slicedToArray","axios","axios_default","baseURL","personsDB","a","get","then","response","data","newObj","post","id","console","log","delete","put","jsx_runtime","Display_Note","_ref","person","handleDeletePerson","Object","children","name","number","onClick","window","confirm","confirmDeletion","Components_Display","_ref2","allpersons","newFilter","length","map","filter","toLowerCase","includes","Components_PersonForm","props","onSubmit","value","newName","onChange","namehandler","newNumber","numberhandler","type","Components_Filter","msg","Components_Notification","message","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","Components_ErrorMessage","src_App","_useState","_useState2","allPersons","setAllPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setNewFilter","_useState9","_useState10","notification","setNotification","_useState11","_useState12","errorMessage","setErrorMessage","handleNotification","setTimeout","handleErroMessage","event","target","preventDefault","repeated","concat","updatedNumber","reduce","t","Math","max","render","document","getElementById"],"mappings":"CAACA,KAAwB,kBAAIA,KAAwB,mBAAK,IAAIC,KAAK,CAAC,CAAC,GAAG,CAElE,GACA,SAAUC,EAAQC,EAAqBC,GAE7C,aAEAA,EAAoBC,EAAEF,GAGtB,IAAIG,EAAQF,EAAoB,GAG5BG,EAAYH,EAAoB,GAChCI,EAAiCJ,EAAoBK,EAAEF,GAGvDG,EAAgBN,EAAoB,GAGpCO,EAAgBP,EAAoB,GAGpCQ,EAAQR,EAAoB,GAC5BS,EAA6BT,EAAoBK,EAAEG,GAGnDE,EAAQ,eAA6lBC,EAAzjB,WAA2D,OAA7BF,EAAcG,EAAEC,IAAIH,GAAwBI,MAAK,SAASC,GAAU,OAAOA,EAASC,SAAucL,EAAxa,SAAgBM,GAAQ,OAAOR,EAAcG,EAAEM,KAAKR,EAAQO,GAAQH,MAAK,SAASC,GAAU,OAAOA,EAASC,SAA4TL,EAA7R,SAAgBQ,GAAIC,QAAQC,IAAI,uBAAuBF,GAAIV,EAAcG,EAAEU,OAAOZ,EAAQ,IAAIS,IAA+LR,EAApK,SAAgBM,GAAQ,OAAOR,EAAcG,EAAEW,IAAIb,EAAQ,IAAIO,EAAOE,GAAGF,GAAQH,MAAK,SAASC,GAAU,OAAOA,EAASC,SAE1jBQ,EAAcxB,EAAoB,GAGlCyB,EAAa,SAAcC,GAAM,IAAIC,EAAOD,EAAKC,OAAOC,EAAmBF,EAAKE,mBAAoL,OAAmBC,OAAOL,EAAkB,KAAzBK,CAA4B,KAAK,CAACC,SAAS,CAACH,EAAOI,KAAK,IAAIJ,EAAOK,OAAoBH,OAAOL,EAAiB,IAAxBK,CAA2B,SAAS,CAACI,QAAQ,YAApS,SAAyBN,GAAWO,OAAOC,QAAQ,UAAUR,EAAOI,KAAK,QAAOpB,EAAiBgB,EAAOR,IAAIS,EAAmBD,EAAOR,KAAiLiB,CAAgBT,IAAUG,SAAS,eAA+pBO,EAA3nB,SAAiBC,GAAO,IAAIC,EAAWD,EAAMC,WAAWC,EAAUF,EAAME,UAAUZ,EAAmBU,EAAMV,mBAAmB,OAAsB,IAAnBY,EAAUC,OAAmBF,EAAWG,KAAI,SAASf,GAAQ,OAAmBE,OAAOL,EAAiB,IAAxBK,CAA2BJ,EAAa,CAACE,OAAOA,EAAOC,mBAAmBA,GAAoBD,EAAOR,OAAqBoB,EAAWI,QAAO,SAAShB,GAAQ,OAAOA,EAAOI,KAAKa,cAAcC,SAASL,EAAUI,kBAAkCF,KAAI,SAASf,GAAQ,OAAmBE,OAAOL,EAAiB,IAAxBK,CAA2BJ,EAAa,CAACE,OAAOA,EAAOC,mBAAmBA,GAAoBD,EAAOR,QAE/b2B,EAAjnB,SAAoBC,GAAO,OAAmBlB,OAAOL,EAAkB,KAAzBK,CAA4B,OAAO,CAACmB,SAASD,EAAMC,SAASlB,SAAS,CAAcD,OAAOL,EAAkB,KAAzBK,CAA4B,MAAM,CAACC,SAAS,CAAC,UAAuBD,OAAOL,EAAiB,IAAxBK,CAA2B,QAAQ,CAACoB,MAAMF,EAAMG,QAAQC,SAASJ,EAAMK,cAAc,YAAyBvB,OAAOL,EAAiB,IAAxBK,CAA2B,QAAQ,CAACoB,MAAMF,EAAMM,UAAUF,SAASJ,EAAMO,mBAAgCzB,OAAOL,EAAiB,IAAxBK,CAA2B,KAAK,IAAiBA,OAAOL,EAAiB,IAAxBK,CAA2B,MAAM,CAACC,SAAsBD,OAAOL,EAAiB,IAAxBK,CAA2B,SAAS,CAAC0B,KAAK,SAASzB,SAAS,cAE/T0B,EAA1Q,SAAgB9B,GAAM,IAAI+B,EAAI/B,EAAK+B,IAAIR,EAAMvB,EAAKuB,MAAME,EAASzB,EAAKyB,SAAS,OAAmBtB,OAAOL,EAAkB,KAAzBK,CAA4B,MAAM,CAACC,SAAS,CAAC2B,EAAiB5B,OAAOL,EAAiB,IAAxBK,CAA2B,QAAQ,CAACoB,MAAMA,EAAME,SAASA,QAEoIO,EAAjV,SAAsBhC,GAAM,IAAIiC,EAAQjC,EAAKiC,QAAQ,GAAa,OAAVA,EAAgB,OAAO,KAAsI,OAAmB9B,OAAOL,EAAiB,IAAxBK,CAA2B,MAAM,CAAC+B,MAAtK,CAACC,MAAM,QAAQC,WAAW,YAAYC,SAAS,GAAGC,YAAY,QAAQC,aAAa,EAAEC,QAAQ,GAAGC,aAAa,IAA0ErC,SAAS6B,KAE2CS,EAA/U,SAAsB1C,GAAM,IAAIiC,EAAQjC,EAAKiC,QAAQ,GAAa,OAAVA,EAAgB,OAAO,KAAoI,OAAmB9B,OAAOL,EAAiB,IAAxBK,CAA2B,MAAM,CAAC+B,MAApK,CAACC,MAAM,MAAMC,WAAW,YAAYC,SAAS,GAAGC,YAAY,QAAQC,aAAa,EAAEC,QAAQ,GAAGC,aAAa,IAA0ErC,SAAS6B,KAQsjFU,EAN12F,WAAe,IAAIC,EAAUzC,OAAO3B,EAAgB,SAAvB2B,CAA0B,IAAI0C,EAAW1C,OAAOtB,EAA+B,EAAtCsB,CAAyCyC,EAAU,GAAGE,EAAWD,EAAW,GAAGE,EAAcF,EAAW,GAAOG,EAAW7C,OAAO3B,EAAgB,SAAvB2B,CAA0B,IAAI8C,EAAW9C,OAAOtB,EAA+B,EAAtCsB,CAAyC6C,EAAW,GAAGxB,EAAQyB,EAAW,GAAGC,EAAWD,EAAW,GAAOE,EAAWhD,OAAO3B,EAAgB,SAAvB2B,CAA0B,IAAIiD,EAAWjD,OAAOtB,EAA+B,EAAtCsB,CAAyCgD,EAAW,GAAGxB,EAAUyB,EAAW,GAAGC,EAAaD,EAAW,GAAOE,EAAWnD,OAAO3B,EAAgB,SAAvB2B,CAA0B,IAAIoD,EAAWpD,OAAOtB,EAA+B,EAAtCsB,CAAyCmD,EAAW,GAAGxC,EAAUyC,EAAW,GAAGC,EAAaD,EAAW,GAAOE,EAAWtD,OAAO3B,EAAgB,SAAvB2B,CAA0B,MAAMuD,EAAYvD,OAAOtB,EAA+B,EAAtCsB,CAAyCsD,EAAW,GAAGE,EAAaD,EAAY,GAAGE,EAAgBF,EAAY,GAAOG,EAAY1D,OAAO3B,EAAgB,SAAvB2B,CAA0B,MAAM2D,EAAY3D,OAAOtB,EAA+B,EAAtCsB,CAAyC0D,EAAY,GAAGE,EAAaD,EAAY,GAAGE,EAAgBF,EAAY,GAMh/B3D,OAAO3B,EAAiB,UAAxB2B,EAA2B,WAAWlB,IAAmBG,MAAK,SAASE,GAAM,OAAOyD,EAAczD,QAAW,IAAI,IAA8K2E,EAAmB,SAA4BhC,GAAS2B,EAAgB3B,GAASiC,YAAW,WAAWN,EAAgB,QAAQ,MAAYO,EAAkB,SAA2BlC,GAAS+B,EAAgB/B,GAASiC,YAAW,WAAWF,EAAgB,QAAQ,MAA23C,OAAmB7D,OAAOL,EAAkB,KAAzBK,CAA4B,MAAM,CAACC,SAAS,CAAcD,OAAOL,EAAiB,IAAxBK,CAA2B,KAAK,CAACC,SAAS,cAA2BD,OAAOL,EAAiB,IAAxBK,CAA2B6B,EAAwB,CAACC,QAAQ0B,IAA4BxD,OAAOL,EAAiB,IAAxBK,CAA2BuC,EAAwB,CAACT,QAAQ8B,IAA4B5D,OAAOL,EAAiB,IAAxBK,CAA2B2B,EAAkB,CAACC,IAAI,oBAAoBR,MAAMT,EAAUW,SAA3d,SAAyB2C,GAAOZ,EAAaY,EAAMC,OAAO9C,UAAycpB,OAAOL,EAAiB,IAAxBK,CAA2BiB,EAAsB,CAACE,SAAz1D,SAAiB8C,GAA8B,GAAvBA,EAAME,iBAAoB9C,EAAQT,OAAO,EAAGoD,EAAkB,uIAAoE,GAAGxC,EAAUZ,OAAO,EAAGoD,EAAkB,oIAAzC,CAA2G,IAAII,EAASzB,EAAW7B,QAAO,SAAShB,GAAQ,OAAOA,EAAOI,OAAOmB,KAAW,GAAG+C,EAASxD,OAAO,GAAG,GAAGP,OAAOC,QAAQ,GAAG+D,OAAOhD,EAAQ,8EAA8E,CAAC,IAAIiD,EAActE,OAAOvB,EAA+B,EAAtCuB,CAAyCA,OAAOvB,EAA+B,EAAtCuB,CAAyC,GAAGoE,EAAS,IAAI,GAAG,CAACjE,OAAOqB,IAAY1C,EAAiBwF,GAAerF,MAAK,SAASC,GAAU0D,EAAcD,EAAW9B,KAAI,SAASf,GAAQ,OAAOA,EAAOR,IAAIJ,EAASI,GAAGJ,EAASY,MAAWgE,EAAmB,GAAGO,OAAOnF,EAASgB,KAAK,kCAAvd,CAA6f,IAAId,EAAO,CAACc,KAAKmB,EAAQlB,OAAOqB,EAAUlC,GAAGqD,EAAW4B,QAAO,SAASC,EAAE1E,GAAQ,OAAO2E,KAAKC,IAAI5E,EAAOR,GAAGkF,KAAK,GAAG,GAAG1F,EAAiBM,GAAQH,MAAK,SAASC,GAAU0D,EAAcD,EAAW0B,OAAOnF,IAAW4E,EAAmB,GAAGO,OAAOnF,EAASgB,KAAK,2BAA2B6C,EAAW,IAAIG,EAAa,OAAmuB7B,QAAQA,EAAQE,YAAhzE,SAAyB0C,GAAOlB,EAAWkB,EAAMC,OAAO9C,QAAoxEI,UAAUA,EAAUC,cAA5wE,SAAwBwC,GAAOf,EAAae,EAAMC,OAAO9C,UAA+vEpB,OAAOL,EAAiB,IAAxBK,CAA2B,KAAK,CAACC,SAAS,YAAyBD,OAAOL,EAAiB,IAAxBK,CAA2B,MAAM,CAACC,SAAsBD,OAAOL,EAAiB,IAAxBK,CAA2B,KAAK,CAACC,SAAsBD,OAAOL,EAAiB,IAAxBK,CAA2BQ,EAAmB,CAACE,WAAWiC,EAAWhC,UAAUA,EAAUZ,mBAA7jC,SAA4BT,GAAIsD,EAAcD,EAAW7B,QAAO,SAAShB,GAAQ,OAAOA,EAAOR,IAAIA,iBAE10Df,EAAkBQ,EAAE4F,OAAoB3E,OAAOL,EAAiB,IAAxBK,CAA2BwC,EAAQ,IAAIoC,SAASC,eAAe,WAIrG,CAAC,CAAC,GAAG,EAAE"},"input":"(this[\"webpackJsonppart2\"] = this[\"webpackJsonppart2\"] || []).push([[0],{\n\n/***/ 39:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(1);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(5);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js + 1 modules\nvar objectSpread2 = __webpack_require__(7);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 5 modules\nvar slicedToArray = __webpack_require__(3);\n\n// EXTERNAL MODULE: ./node_modules/axios/index.js\nvar axios = __webpack_require__(4);\nvar axios_default = /*#__PURE__*/__webpack_require__.n(axios);\n\n// CONCATENATED MODULE: ./src/services/personsDB.js\nvar baseURL='/api/persons';var personsDB_getAll=function getAll(){var request=axios_default.a.get(baseURL);return request.then(function(response){return response.data;});};var personsDB_create=function create(newObj){return axios_default.a.post(baseURL,newObj).then(function(response){return response.data;});};var personsDB_remove=function remove(id){console.log(\"clicked for phone no\"+id);axios_default.a.delete(baseURL+'/'+id);};var personsDB_update=function update(newObj){return axios_default.a.put(baseURL+'/'+newObj.id,newObj).then(function(response){return response.data;});};/* harmony default export */ var personsDB = ({getAll:personsDB_getAll,create:personsDB_create,remove:personsDB_remove,update:personsDB_update});\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(0);\n\n// CONCATENATED MODULE: ./src/Components/Display.js\nvar Display_Note=function Note(_ref){var person=_ref.person,handleDeletePerson=_ref.handleDeletePerson;var confirmDeletion=function confirmDeletion(person){if(window.confirm(\"Delete \"+person.name+\" ?\")){personsDB.remove(person.id);handleDeletePerson(person.id);}};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"li\",{children:[person.name,\" \",person.number,/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:function onClick(){confirmDeletion(person);},children:\"delete\"})]});};var Display_Display=function Display(_ref2){var allpersons=_ref2.allpersons,newFilter=_ref2.newFilter,handleDeletePerson=_ref2.handleDeletePerson;if(newFilter.length===0){return allpersons.map(function(person){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Display_Note,{person:person,handleDeletePerson:handleDeletePerson},person.id);});}var filtered=allpersons.filter(function(person){return person.name.toLowerCase().includes(newFilter.toLowerCase());});return filtered.map(function(person){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Display_Note,{person:person,handleDeletePerson:handleDeletePerson},person.id);});};/* harmony default export */ var Components_Display = (Display_Display);\n// CONCATENATED MODULE: ./src/Components/PersonForm.js\nvar PersonForm_PersonForm=function PersonForm(props){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:props.onSubmit,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[\"name : \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{value:props.newName,onChange:props.namehandler}),\"number : \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{value:props.newNumber,onChange:props.numberhandler})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"submit\",children:\"add\"})})]});};/* harmony default export */ var Components_PersonForm = (PersonForm_PersonForm);\n// CONCATENATED MODULE: ./src/Components/Filter.js\nvar Filter_Filter=function Filter(_ref){var msg=_ref.msg,value=_ref.value,onChange=_ref.onChange;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[msg,/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{value:value,onChange:onChange})]});};/* harmony default export */ var Components_Filter = (Filter_Filter);\n// CONCATENATED MODULE: ./src/Components/Notification.js\nvar Notification_Notification=function Notification(_ref){var message=_ref.message;if(message===null){return null;}var notifStyle={color:'green',background:'lightgrey',fontSize:20,borderStyle:'solid',borderRadius:5,padding:10,marginBottom:10};return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:notifStyle,children:message});};/* harmony default export */ var Components_Notification = (Notification_Notification);\n// CONCATENATED MODULE: ./src/Components/ErrorMessage.js\nvar ErrorMessage_ErrorMessage=function ErrorMessage(_ref){var message=_ref.message;if(message===null){return null;}var errorStyle={color:'red',background:'lightgrey',fontSize:20,borderStyle:'solid',borderRadius:5,padding:10,marginBottom:10};return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:errorStyle,children:message});};/* harmony default export */ var Components_ErrorMessage = (ErrorMessage_ErrorMessage);\n// CONCATENATED MODULE: ./src/App.js\nvar App_App=function App(){var _useState=Object(react[\"useState\"])([]),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),allPersons=_useState2[0],setAllPersons=_useState2[1];var _useState3=Object(react[\"useState\"])(''),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),newName=_useState4[0],setNewName=_useState4[1];var _useState5=Object(react[\"useState\"])(''),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),newNumber=_useState6[0],setNewNumber=_useState6[1];var _useState7=Object(react[\"useState\"])(''),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),newFilter=_useState8[0],setNewFilter=_useState8[1];var _useState9=Object(react[\"useState\"])(null),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),notification=_useState10[0],setNotification=_useState10[1];var _useState11=Object(react[\"useState\"])(null),_useState12=Object(slicedToArray[\"a\" /* default */])(_useState11,2),errorMessage=_useState12[0],setErrorMessage=_useState12[1];/*useEffect(() =>\n    axios\n        .get(\"http://localhost:3001/persons\")\n        .then(response =>{\n            setAllPersons(response.data);\n        })\n  ,[])*/Object(react[\"useEffect\"])(function(){personsDB.getAll().then(function(data){return setAllPersons(data);});},[]);var handleInputName=function handleInputName(event){setNewName(event.target.value);};var handleInputNum=function handleInputNum(event){setNewNumber(event.target.value);};var handleNotification=function handleNotification(message){setNotification(message);setTimeout(function(){setNotification(null);},5000);};var handleErroMessage=function handleErroMessage(message){setErrorMessage(message);setTimeout(function(){setErrorMessage(null);},3000);};var addNote=function addNote(event){event.preventDefault();if(newName.length<3){handleErroMessage(\"Name should be at least 3 characters\\n طلبك مرفوض يا نرم\");return;}if(newNumber.length<8){handleErroMessage(\"Number should be at least 8 digits\\n طلبك مرفوض يا نرم\");return;}var repeated=allPersons.filter(function(person){return person.name===newName;});if(repeated.length>0){if(window.confirm(\"\".concat(newName,\" already exists. Do you want to replace the old number with the new one ?\"))){var updatedNumber=Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},repeated[0]),{},{number:newNumber});personsDB.update(updatedNumber).then(function(response){setAllPersons(allPersons.map(function(person){return person.id==response.id?response:person;}));handleNotification(\"\".concat(response.name,\" updated Successfully\"));});}return;}var newObj={name:newName,number:newNumber,id:allPersons.reduce(function(t,person){return Math.max(person.id,t);},0)+1};personsDB.create(newObj).then(function(response){setAllPersons(allPersons.concat(response));handleNotification(\"\".concat(response.name,\" Added Successfully\"));});setNewName('');setNewNumber('');};var handleDeletePerson=function handleDeletePerson(id){setAllPersons(allPersons.filter(function(person){return person.id!=id;}));};var handleNewFilter=function handleNewFilter(event){setNewFilter(event.target.value);};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"PhoneBook\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Components_Notification,{message:notification}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Components_ErrorMessage,{message:errorMessage}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Components_Filter,{msg:\"Filter shown with\",value:newFilter,onChange:handleNewFilter}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Components_PersonForm,{onSubmit:addNote,newName:newName,namehandler:handleInputName,newNumber:newNumber,numberhandler:handleInputNum}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"Numbers\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"ul\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Components_Display,{allpersons:allPersons,newFilter:newFilter,handleDeletePerson:handleDeletePerson})})})]});};/* harmony default export */ var src_App = (App_App);\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{}),document.getElementById('root'));\n\n/***/ })\n\n},[[39,1,2]]]);","inputSourceMap":{"version":3,"sources":["/home/mohamed/fullstackopen/part2/phonebook/src/services/personsDB.js","/home/mohamed/fullstackopen/part2/phonebook/src/Components/Display.js","/home/mohamed/fullstackopen/part2/phonebook/src/Components/PersonForm.js","/home/mohamed/fullstackopen/part2/phonebook/src/Components/Filter.js","/home/mohamed/fullstackopen/part2/phonebook/src/Components/Notification.js","/home/mohamed/fullstackopen/part2/phonebook/src/Components/ErrorMessage.js","/home/mohamed/fullstackopen/part2/phonebook/src/App.js","/home/mohamed/fullstackopen/part2/phonebook/src/index.js"],"names":["baseURL","getAll","request","axios","get","then","response","data","create","newObj","post","remove","id","console","log","delete","update","put","Note","person","handleDeletePerson","confirmDeletion","window","confirm","name","personDB","number","Display","allpersons","newFilter","length","map","filtered","filter","toLowerCase","includes","PersonForm","props","onSubmit","newName","namehandler","newNumber","numberhandler","Filter","msg","value","onChange","Notification","message","notifStyle","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","ErrorMessage","errorStyle","App","useState","allPersons","setAllPersons","setNewName","setNewNumber","setNewFilter","notification","setNotification","errorMessage","setErrorMessage","useEffect","handleInputName","event","target","handleInputNum","handleNotification","setTimeout","handleErroMessage","addNote","preventDefault","repeated","updatedNumber","reduce","t","Math","max","concat","handleNewFilter","ReactDOM","render","document","getElementById"],"mappings":"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","file":"x","sourcesContent":["import axios from \"axios\";\nconst baseURL = '/api/persons';\n\nconst getAll = () =>{\n    const request = axios.get(baseURL);\n    return request.then(response =>{\n        return response.data;\n    })\n}\nconst create = newObj =>{\n    return axios.post(baseURL , newObj)\n            .then(response => {\n                return response.data;\n            })\n}\n\nconst remove = id =>{\n    console.log(\"clicked for phone no\" + id);\n    axios.delete(baseURL+'/'+id);\n\n}\nconst update = newObj => {\n    return axios.put(baseURL+'/'+newObj.id , newObj).then(\n        response => { return response.data}\n    )\n}\n\nexport default {getAll ,create, remove, update}; ","import React, { useState } from 'react';\nimport personDB from '../services/personsDB'\n\n\nconst Note = ({person , handleDeletePerson}) =>{\n  const confirmDeletion = (person) =>{\n   if(window.confirm(\"Delete \"+ person.name + \" ?\")){\n     personDB.remove(person.id);\n     handleDeletePerson(person.id);\n\n    }\n  }\n\n  return (\n    <li>{person.name} {person.number} \n        <button \n        onClick = {() => {confirmDeletion(person)}}>\n          delete\n        </button>\n    </li>\n  )\n}\n\n\n\nconst Display = ({allpersons, newFilter, handleDeletePerson}) => {\n    if(newFilter.length ===0 ){\n      return(\n        allpersons.map(person =>\n          <Note key = {person.id} person = {person} handleDeletePerson = {handleDeletePerson}/>)\n      ) \n    }\n    const filtered = allpersons.filter(\n                    person => person.name.toLowerCase().includes(newFilter.toLowerCase()));\n    return (\n      filtered.map(person =>\n       <Note key = {person.id} person = {person} handleDeletePerson ={handleDeletePerson}/>)\n    )\n}\nexport default Display","import React, { useState } from 'react';\nimport ReactDOM from 'react-dom';\n\n const PersonForm = (props) =>{\n    return(\n      <form onSubmit = {props.onSubmit}>\n        <div>\n          name : <input value = {props.newName} onChange={props.namehandler} />\n          number : <input value = {props.newNumber} onChange={props.numberhandler} />\n        </div>\n        <br/>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n      \n    )\n }\n export default PersonForm","import React, { useState } from 'react';\nimport ReactDOM from 'react-dom';\n\nconst Filter = ({msg ,value, onChange}) =>{\n  return(\n    <div>{msg} \n    <input value = {value} onChange= {onChange}/>\n    </div>\n  )\n\n}\n\nexport default Filter;\n","const Notification = ({message}) =>{\n    if(message ===null){\n        return null;\n    }\n    const notifStyle ={\n        color: 'green',\n        background: 'lightgrey',\n        fontSize: 20,\n        borderStyle: 'solid',\n        borderRadius: 5,\n        padding: 10,\n        marginBottom: 10,\n    }\n\n    return(\n        <div style ={notifStyle}>\n            {message}\n        </div>\n    )\n}\nexport default Notification;","\nconst ErrorMessage = ({message}) =>{\n    if(message === null){\n        return null;\n    }\n\n    const errorStyle ={\n        color: 'red',\n        background: 'lightgrey',\n        fontSize: 20,\n        borderStyle: 'solid',\n        borderRadius: 5,\n        padding: 10,\n        marginBottom: 10,\n    }\n      \n    return(\n        <div style = {errorStyle}>\n            {message}\n        </div>\n    )\n}\nexport default ErrorMessage;","import React, { useEffect, useState } from 'react';\nimport Display from './Components/Display';\nimport PersonForm from './Components/PersonForm';\nimport Filter from './Components/Filter';\nimport personDB from './services/personsDB';\nimport Notification from './Components/Notification';\nimport ErrorMessage from './Components/ErrorMessage';\nconst App = () => {\n  const [allPersons, setAllPersons] = useState([]);\n  const [newName , setNewName] = useState('');\n  const [newNumber , setNewNumber] = useState('');\n  const [newFilter , setNewFilter] = useState('');\n  const [notification , setNotification] = useState(null);\n  const [errorMessage , setErrorMessage] = useState(null);\n  /*useEffect(() =>\n    axios\n        .get(\"http://localhost:3001/persons\")\n        .then(response =>{\n            setAllPersons(response.data);\n        })\n  ,[])*/\n  \nuseEffect(() =>{\n  personDB.getAll().then(data => setAllPersons(data));\n}, [])\n  \n\n  const handleInputName = (event) =>{\n    setNewName(event.target.value);\n  }\n\n  const handleInputNum = (event) =>{\n    setNewNumber(event.target.value);\n  }\n  \n  const handleNotification = message =>{\n    setNotification(message);\n    setTimeout(() => {\n      setNotification(null)\n    }, 5000);\n  }\n\n  const handleErroMessage = message =>{\n    setErrorMessage(message);\n    setTimeout(()=>{\n      setErrorMessage(null)},3000\n      );\n  }\n\n  const addNote = (event) =>{\n\n    event.preventDefault()\n\n    if(newName.length < 3 ){\n      handleErroMessage(\"Name should be at least 3 characters\\n طلبك مرفوض يا نرم\")\n      return\n    }\n    if(newNumber.length < 8 ){\n      handleErroMessage(\"Number should be at least 8 digits\\n طلبك مرفوض يا نرم\")\n      return\n    }  \n    \n    const repeated = allPersons.filter(person => person.name === newName);\n\n    if(repeated.length > 0){\n        if(window.confirm(`${newName} already exists. Do you want to replace the old number with the new one ?`)){\n          const updatedNumber = {...repeated[0] , number : newNumber}\n\n          personDB.update(updatedNumber)\n          .then(response =>{\n            setAllPersons(allPersons.map(person =>\n              person.id == response.id ? response : person\n            ))\n            handleNotification(\n              `${response.name} updated Successfully`\n            )\n          })\n\n        }\n        return\n    }\n\n    const newObj = {\n        name : newName,\n        number : newNumber,\n        id : allPersons.reduce((t,person) => Math.max(person.id, t),0) +1\n    }\n    personDB.create(newObj).then(response => {\n      setAllPersons(allPersons.concat(response));\n      handleNotification(`${response.name} Added Successfully`) \n\n    })\n    setNewName(''); \n    setNewNumber('');\n\n  }\n\n  const handleDeletePerson = (id) =>{\n    \n    setAllPersons(allPersons.filter(\n      person=> person.id != id\n    ))\n\n  }\n  \n\n  const handleNewFilter = (event) =>{\n    setNewFilter(event.target.value)\n  }\n\n  return (\n    <div>\n\n      <h2>PhoneBook</h2>\n      <Notification message = {notification} />\n      <ErrorMessage message = {errorMessage}/>\n      <Filter msg = 'Filter shown with' value = {newFilter} onChange={handleNewFilter}/>\n\n      <PersonForm onSubmit = {addNote} newName = {newName}\n                  namehandler = {handleInputName}\n                  newNumber = {newNumber} numberhandler = {handleInputNum}/>\n\n     <h2>Numbers</h2>\n      <div>\n        <ul>\n          <Display allpersons = {allPersons} newFilter \n              = {newFilter} handleDeletePerson ={handleDeletePerson}/> \n        </ul>\n      </div>\n    </div>\n  )\n}\n\nexport default App","import React, { useState } from 'react';\nimport ReactDOM from 'react-dom';\nimport App from'./App';\n\n\nReactDOM.render(\n  <App />, \ndocument.getElementById('root'))"]}}