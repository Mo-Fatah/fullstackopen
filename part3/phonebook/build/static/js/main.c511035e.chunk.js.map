{"version":3,"sources":["services/personsDB.js","Components/Display.js","Components/PersonForm.js","Components/Filter.js","Components/Notification.js","Components/ErrorMessage.js","App.js","index.js"],"names":["baseURL","axios","get","then","response","data","newObj","post","id","console","log","delete","put","Note","person","handleDeletePerson","name","number","onClick","window","confirm","personDB","confirmDeletion","Display","allpersons","newFilter","length","map","filter","toLowerCase","includes","PersonForm","props","onSubmit","value","newName","onChange","namehandler","newNumber","numberhandler","type","Filter","msg","Notification","message","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","ErrorMessage","App","useState","allPersons","setAllPersons","setNewName","setNewNumber","setNewFilter","notification","setNotification","errorMessage","setErrorMessage","useEffect","handleNotification","setTimeout","handleErroMessage","event","target","preventDefault","repeated","updatedNumber","reduce","t","Math","max","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.c511035e.chunk.js","sourcesContent":["import axios from \"axios\";\nconst baseURL = '/api/persons';\n\nconst getAll = () =>{\n    const request = axios.get(baseURL);\n    return request.then(response =>{\n        return response.data;\n    })\n}\nconst create = newObj =>{\n    return axios.post(baseURL , newObj)\n            .then(response => {\n                return response.data;\n            })\n}\n\nconst remove = id =>{\n    console.log(\"clicked for phone no\" + id);\n    axios.delete(baseURL+'/'+id);\n\n}\nconst update = newObj => {\n    return axios.put(baseURL+'/'+newObj.id , newObj).then(\n        response => { return response.data}\n    )\n}\n\nexport default {getAll ,create, remove, update}; ","import React, { useState } from 'react';\nimport personDB from '../services/personsDB'\n\n\nconst Note = ({person , handleDeletePerson}) =>{\n  const confirmDeletion = (person) =>{\n   if(window.confirm(\"Delete \"+ person.name + \" ?\")){\n     personDB.remove(person.id);\n     handleDeletePerson(person.id);\n\n    }\n  }\n\n  return (\n    <li>{person.name} {person.number} \n        <button \n        onClick = {() => {confirmDeletion(person)}}>\n          delete\n        </button>\n    </li>\n  )\n}\n\n\n\nconst Display = ({allpersons, newFilter, handleDeletePerson}) => {\n    if(newFilter.length ===0 ){\n      return(\n        allpersons.map(person =>\n          <Note key = {person.id} person = {person} handleDeletePerson = {handleDeletePerson}/>)\n      ) \n    }\n    const filtered = allpersons.filter(\n                    person => person.name.toLowerCase().includes(newFilter.toLowerCase()));\n    return (\n      filtered.map(person =>\n       <Note key = {person.id} person = {person} handleDeletePerson ={handleDeletePerson}/>)\n    )\n}\nexport default Display","import React, { useState } from 'react';\nimport ReactDOM from 'react-dom';\n\n const PersonForm = (props) =>{\n    return(\n      <form onSubmit = {props.onSubmit}>\n        <div>\n          name : <input value = {props.newName} onChange={props.namehandler} />\n          number : <input value = {props.newNumber} onChange={props.numberhandler} />\n        </div>\n        <br/>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n      \n    )\n }\n export default PersonForm","import React, { useState } from 'react';\nimport ReactDOM from 'react-dom';\n\nconst Filter = ({msg ,value, onChange}) =>{\n  return(\n    <div>{msg} \n    <input value = {value} onChange= {onChange}/>\n    </div>\n  )\n\n}\n\nexport default Filter;\n","const Notification = ({message}) =>{\n    if(message ===null){\n        return null;\n    }\n    const notifStyle ={\n        color: 'green',\n        background: 'lightgrey',\n        fontSize: 20,\n        borderStyle: 'solid',\n        borderRadius: 5,\n        padding: 10,\n        marginBottom: 10,\n    }\n\n    return(\n        <div style ={notifStyle}>\n            {message}\n        </div>\n    )\n}\nexport default Notification;","\nconst ErrorMessage = ({message}) =>{\n    if(message === null){\n        return null;\n    }\n\n    const errorStyle ={\n        color: 'red',\n        background: 'lightgrey',\n        fontSize: 20,\n        borderStyle: 'solid',\n        borderRadius: 5,\n        padding: 10,\n        marginBottom: 10,\n    }\n      \n    return(\n        <div style = {errorStyle}>\n            {message}\n        </div>\n    )\n}\nexport default ErrorMessage;","import React, { useEffect, useState } from 'react';\nimport Display from './Components/Display';\nimport PersonForm from './Components/PersonForm';\nimport Filter from './Components/Filter';\nimport personDB from './services/personsDB';\nimport Notification from './Components/Notification';\nimport ErrorMessage from './Components/ErrorMessage';\nconst App = () => {\n  const [allPersons, setAllPersons] = useState([]);\n  const [newName , setNewName] = useState('');\n  const [newNumber , setNewNumber] = useState('');\n  const [newFilter , setNewFilter] = useState('');\n  const [notification , setNotification] = useState(null);\n  const [errorMessage , setErrorMessage] = useState(null);\n  /*useEffect(() =>\n    axios\n        .get(\"http://localhost:3001/persons\")\n        .then(response =>{\n            setAllPersons(response.data);\n        })\n  ,[])*/\n  \nuseEffect(() =>{\n  personDB.getAll().then(data => setAllPersons(data));\n}, [])\n  \n\n  const handleInputName = (event) =>{\n    setNewName(event.target.value);\n  }\n\n  const handleInputNum = (event) =>{\n    setNewNumber(event.target.value);\n  }\n  \n  const handleNotification = message =>{\n    setNotification(message);\n    setTimeout(() => {\n      setNotification(null)\n    }, 5000);\n  }\n\n  const handleErroMessage = message =>{\n    setErrorMessage(message);\n    setTimeout(()=>{\n      setErrorMessage(null)},3000\n      );\n  }\n\n  const addNote = (event) =>{\n\n    event.preventDefault()\n\n    if(newName.length < 3 ){\n      handleErroMessage(\"Name should be at least 3 characters\\n طلبك مرفوض يا نرم\")\n      return\n    }\n    if(newNumber.length < 8 ){\n      handleErroMessage(\"Number should be at least 8 digits\\n طلبك مرفوض يا نرم\")\n      return\n    }  \n    \n    const repeated = allPersons.filter(person => person.name === newName);\n\n    if(repeated.length > 0){\n        if(window.confirm(`${newName} already exists. Do you want to replace the old number with the new one ?`)){\n          const updatedNumber = {...repeated[0] , number : newNumber}\n\n          personDB.update(updatedNumber)\n          .then(response =>{\n            setAllPersons(allPersons.map(person =>\n              person.id == response.id ? response : person\n            ))\n            handleNotification(\n              `${response.name} updated Successfully`\n            )\n          })\n\n        }\n        return\n    }\n\n    const newObj = {\n        name : newName,\n        number : newNumber,\n        id : allPersons.reduce((t,person) => Math.max(person.id, t),0) +1\n    }\n    personDB.create(newObj).then(response => {\n      setAllPersons(allPersons.concat(response));\n      handleNotification(`${response.name} Added Successfully`) \n\n    })\n    setNewName(''); \n    setNewNumber('');\n\n  }\n\n  const handleDeletePerson = (id) =>{\n    \n    setAllPersons(allPersons.filter(\n      person=> person.id != id\n    ))\n\n  }\n  \n\n  const handleNewFilter = (event) =>{\n    setNewFilter(event.target.value)\n  }\n\n  return (\n    <div>\n\n      <h2>PhoneBook</h2>\n      <Notification message = {notification} />\n      <ErrorMessage message = {errorMessage}/>\n      <Filter msg = 'Filter shown with' value = {newFilter} onChange={handleNewFilter}/>\n\n      <PersonForm onSubmit = {addNote} newName = {newName}\n                  namehandler = {handleInputName}\n                  newNumber = {newNumber} numberhandler = {handleInputNum}/>\n\n     <h2>Numbers</h2>\n      <div>\n        <ul>\n          <Display allpersons = {allPersons} newFilter \n              = {newFilter} handleDeletePerson ={handleDeletePerson}/> \n        </ul>\n      </div>\n    </div>\n  )\n}\n\nexport default App","import React, { useState } from 'react';\nimport ReactDOM from 'react-dom';\nimport App from'./App';\n\n\nReactDOM.render(\n  <App />, \ndocument.getElementById('root'))"],"sourceRoot":""}